const { NetSet } = require("./helpers/netSet.js");
const { createAnswers } = require("./helpers/createAnswers.js");
const { createPriceList } = require("./helpers/createPriceList.js");
const { runSingle } = require("./helpers/runSingle.js");

const {
    COSTdaily,  // 9668
    AMZNdaily,  // 6923
    GBTCdaily,  // 2398
    QQQdaily,   // 6466
    RIVNdaily,  // 759
    LUVdaily,   // 11315
    ABNBdaily,  // 990
    Fdaily      // 13229
} = require("./rawData.js");

const dataToUse = LUVdaily;
// const dataToUse = Fdaily.map((ele) => {
//     return {
//         date: ele.date,
//         high: ele.high / 100.0
//     }
// });

const LUVtrends = [
    ["2024-03-17",	45],
    ["2024-03-18",	55],
    ["2024-03-19",	42],
    ["2024-03-20",	44],
    ["2024-03-21",	42],
    ["2024-03-22",	44],
    ["2024-03-23",	64],
    ["2024-03-24",	52],
    ["2024-03-25",	49],
    ["2024-03-26",	41],
    ["2024-03-27",	64],
    ["2024-03-28",	64],
    ["2024-03-29",	61],
    ["2024-03-30",	59],
    ["2024-03-31",	50],
    ["2024-04-01",	47],
    ["2024-04-02",	56],
    ["2024-04-03",	49],
    ["2024-04-04",	48],
    ["2024-04-05",	48],
    ["2024-04-06",	54],
    ["2024-04-07",	56],
    ["2024-04-08",	41],
    ["2024-04-09",	43],
    ["2024-04-10",	41],
    ["2024-04-11",	43],
    ["2024-04-12",	45],
    ["2024-04-13",	48],
    ["2024-04-14",	45],
    ["2024-04-15",	44],
    ["2024-04-16",	45],
    ["2024-04-17",	44],
    ["2024-04-18",	50],
    ["2024-04-19",	48],
    ["2024-04-20",	55],
    ["2024-04-21",	56],
    ["2024-04-22",	40],
    ["2024-04-23",	45],
    ["2024-04-24",	45],
    ["2024-04-25",	54],
    ["2024-04-26",	48],
    ["2024-04-27",	57],
    ["2024-04-28",	46],
    ["2024-04-29",	46],
    ["2024-04-30",	44],
    ["2024-05-01",	40],
    ["2024-05-02",	43],
    ["2024-05-03",	42],
    ["2024-05-04",	40],
    ["2024-05-05",	53],
    ["2024-05-06",	46],
    ["2024-05-07",	40],
    ["2024-05-08",	47],
    ["2024-05-09",	52],
    ["2024-05-10",	47],
    ["2024-05-11",	45],
    ["2024-05-12",	45],
    ["2024-05-13",	43],
    ["2024-05-14",	41],
    ["2024-05-15",	38],
    ["2024-05-16",	44],
    ["2024-05-17",	45],
    ["2024-05-18",	42],
    ["2024-05-19",	49],
    ["2024-05-20",	46],
    ["2024-05-21",	46],
    ["2024-05-22",	44],
    ["2024-05-23",	44],
    ["2024-05-24",	45],
    ["2024-05-25",	55],
    ["2024-05-26",	44],
    ["2024-05-27",	43],
    ["2024-05-28",	41],
    ["2024-05-29",	43],
    ["2024-05-30",	54],
    ["2024-05-31",	49],
    ["2024-06-01",	46],
    ["2024-06-02",	42],
    ["2024-06-03",	40],
    ["2024-06-04",	40],
    ["2024-06-05",	48],
    ["2024-06-06",	41],
    ["2024-06-07",	43],
    ["2024-06-08",	48],
    ["2024-06-09",	52],
    ["2024-06-10",	58],
    ["2024-06-11",	100],
    ["2024-06-12",	64],
    ["2024-06-13",	47],
    ["2024-06-14",	51],
    ["2024-06-15",	56],
    ["2024-06-16",	55],
    ["2024-06-17",	50],
    ["2024-06-18",	46],
    ["2024-06-19",	47],
    ["2024-06-20",	47],
    ["2024-06-21",	48],
    ["2024-06-22",	52],
    ["2024-06-23",	49],
    ["2024-06-24",	47],
    ["2024-06-25",	44],
    ["2024-06-26",	45],
    ["2024-06-27",	45],
    ["2024-06-28",	45],
    ["2024-06-29",	44],
    ["2024-06-30",	47],
    ["2024-07-01",	44],
    ["2024-07-02",	43],
    ["2024-07-03",	49],
    ["2024-07-04",	46],
    ["2024-07-05",	57],
    ["2024-07-06",	54],
    ["2024-07-07",	51],
    ["2024-07-08",	49],
    ["2024-07-09",	46],
    ["2024-07-10",	46],
    ["2024-07-11",	55],
    ["2024-07-12",	48],
    ["2024-07-13",	52],
    ["2024-07-14",	46],
    ["2024-07-15",	45],
    ["2024-07-16",	48],
    ["2024-07-17",	47],
    ["2024-07-18",	48],
    ["2024-07-19",	55],
    ["2024-07-20",	56],
    ["2024-07-21",	56],
    ["2024-07-22",	50],
    ["2024-07-23",	46],
    ["2024-07-24",	44],
    ["2024-07-25",	57],
    ["2024-07-26",	44],
    ["2024-07-27",	51],
    ["2024-07-28",	43],
    ["2024-07-29",	39],
    ["2024-07-30",	42],
    ["2024-07-31",	43],
    ["2024-08-01",	41],
    ["2024-08-02",	41],
    ["2024-08-03",	45],
    ["2024-08-04",	58],
    ["2024-08-05",	50],
    ["2024-08-06",	45],
    ["2024-08-07",	51],
    ["2024-08-08",	50],
    ["2024-08-09",	49],
    ["2024-08-10",	51],
    ["2024-08-11",	48],
    ["2024-08-12",	52],
    ["2024-08-13",	49],
    ["2024-08-14",	47],
    ["2024-08-15",	40],
    ["2024-08-16",	40],
    ["2024-08-17",	45],
    ["2024-08-18",	45],
    ["2024-08-19",	42],
    ["2024-08-20",	42],
    ["2024-08-21",	39],
    ["2024-08-22",	41],
    ["2024-08-23",	46],
    ["2024-08-24",	45],
    ["2024-08-25",	46],
    ["2024-08-26",	39],
    ["2024-08-27",	39],
    ["2024-08-28",	44],
    ["2024-08-29",	50],
    ["2024-08-30",	41],
    ["2024-08-31",	41],
    ["2024-09-01",	38],
    ["2024-09-02",	43],
    ["2024-09-03",	40],
    ["2024-09-04",	39],
    ["2024-09-05",	37],
    ["2024-09-06",	36],
    ["2024-09-07",	39],
    ["2024-09-08",	47],
    ["2024-09-09",	39],
    ["2024-09-10",	39],
    ["2024-09-11",	37],
    ["2024-09-12",	37],
    ["2024-09-13",	42],
    ["2024-09-14",	41],
    ["2024-09-15",	38],
    ["2024-09-16",	34],
    ["2024-09-17",	36],
    ["2024-09-18",	39],
    ["2024-09-19",	43],
    ["2024-09-20",	41],
    ["2024-09-21",	41],
    ["2024-09-22",	36],
    ["2024-09-23",	35],
    ["2024-09-24",	39],
    ["2024-09-25",	68],
    ["2024-09-26",	50],
    ["2024-09-27",	44],
    ["2024-09-28",	45],
    ["2024-09-29",	49],
    ["2024-09-30",	43],
    ["2024-10-01",	38],
    ["2024-10-02",	37],
    ["2024-10-03",	40],
    ["2024-10-04",	37],
    ["2024-10-05",	40],
    ["2024-10-06",	40],
    ["2024-10-07",	36],
    ["2024-10-08",	33],
    ["2024-10-09",	36],
    ["2024-10-10",	36],
    ["2024-10-11",	39],
    ["2024-10-12",	46],
    ["2024-10-13",	41],
    ["2024-10-14",	41],
    ["2024-10-15",	36],
    ["2024-10-16",	40],
    ["2024-10-17",	41],
    ["2024-10-18",	42],
    ["2024-10-19",	45],
    ["2024-10-20",	43],
    ["2024-10-21",	39],
    ["2024-10-22",	39],
    ["2024-10-23",	41],
    ["2024-10-24",	48],
    ["2024-10-25",	42],
    ["2024-10-26",	40],
    ["2024-10-27",	44],
    ["2024-10-28",	41],
    ["2024-10-29",	41],
    ["2024-10-30",	43],
    ["2024-10-31",	38],
    ["2024-11-01",	42],
    ["2024-11-02",	47],
    ["2024-11-03",	42],
    ["2024-11-04",	41],
    ["2024-11-05",	37],
    ["2024-11-06",	29],
    ["2024-11-07",	42],
    ["2024-11-08",	40],
    ["2024-11-09",	44],
    ["2024-11-10",	41],
    ["2024-11-11",	42],
    ["2024-11-12",	40],
    ["2024-11-13",	39],
    ["2024-11-14",	43],
    ["2024-11-15",	42],
    ["2024-11-16",	42],
    ["2024-11-17",	45]
];

const AMZNtrends = [
    ["2024-03-17",	5],
    ["2024-03-18",	30],
    ["2024-03-19",	29],
    ["2024-03-20",	30],
    ["2024-03-21",	33],
    ["2024-03-22",	28],
    ["2024-03-23",	7],
    ["2024-03-24",	6],
    ["2024-03-25",	28],
    ["2024-03-26",	28],
    ["2024-03-27",	27],
    ["2024-03-28",	32],
    ["2024-03-29",	15],
    ["2024-03-30",	6],
    ["2024-03-31",	5],
    ["2024-04-01",	28],
    ["2024-04-02",	24],
    ["2024-04-03",	31],
    ["2024-04-04",	34],
    ["2024-04-05",	35],
    ["2024-04-06",	8],
    ["2024-04-07",	6],
    ["2024-04-08",	30],
    ["2024-04-09",	31],
    ["2024-04-10",	30],
    ["2024-04-11",	35],
    ["2024-04-12",	35],
    ["2024-04-13",	8],
    ["2024-04-14",	6],
    ["2024-04-15",	31],
    ["2024-04-16",	30],
    ["2024-04-17",	27],
    ["2024-04-18",	27],
    ["2024-04-19",	29],
    ["2024-04-20",	9],
    ["2024-04-21",	5],
    ["2024-04-22",	30],
    ["2024-04-23",	31],
    ["2024-04-24",	31],
    ["2024-04-25",	43],
    ["2024-04-26",	40],
    ["2024-04-27",	10],
    ["2024-04-28",	7],
    ["2024-04-29",	41],
    ["2024-04-30",	95],
    ["2024-05-01",	71],
    ["2024-05-02",	48],
    ["2024-05-03",	42],
    ["2024-05-04",	10],
    ["2024-05-05",	6],
    ["2024-05-06",	36],
    ["2024-05-07",	37],
    ["2024-05-08",	32],
    ["2024-05-09",	36],
    ["2024-05-10",	34],
    ["2024-05-11",	9],
    ["2024-05-12",	5],
    ["2024-05-13",	32],
    ["2024-05-14",	34],
    ["2024-05-15",	40],
    ["2024-05-16",	34],
    ["2024-05-17",	31],
    ["2024-05-18",	7],
    ["2024-05-19",	6],
    ["2024-05-20",	30],
    ["2024-05-21",	32],
    ["2024-05-22",	32],
    ["2024-05-23",	33],
    ["2024-05-24",	26],
    ["2024-05-25",	7],
    ["2024-05-26",	5],
    ["2024-05-27",	6],
    ["2024-05-28",	29],
    ["2024-05-29",	27],
    ["2024-05-30",	25],
    ["2024-05-31",	31],
    ["2024-06-01",	7],
    ["2024-06-02",	5],
    ["2024-06-03",	29],
    ["2024-06-04",	26],
    ["2024-06-05",	31],
    ["2024-06-06",	30],
    ["2024-06-07",	30],
    ["2024-06-08",	7],
    ["2024-06-09",	6],
    ["2024-06-10",	30],
    ["2024-06-11",	32],
    ["2024-06-12",	34],
    ["2024-06-13",	31],
    ["2024-06-14",	27],
    ["2024-06-15",	6],
    ["2024-06-16",	5],
    ["2024-06-17",	31],
    ["2024-06-18",	29],
    ["2024-06-19",	16],
    ["2024-06-20",	29],
    ["2024-06-21",	26],
    ["2024-06-22",	7],
    ["2024-06-23",	5],
    ["2024-06-24",	31],
    ["2024-06-25",	32],
    ["2024-06-26",	46],
    ["2024-06-27",	55],
    ["2024-06-28",	47],
    ["2024-06-29",	10],
    ["2024-06-30",	6],
    ["2024-07-01",	40],
    ["2024-07-02",	42],
    ["2024-07-03",	35],
    ["2024-07-04",	11],
    ["2024-07-05",	36],
    ["2024-07-06",	10],
    ["2024-07-07",	6],
    ["2024-07-08",	37],
    ["2024-07-09",	38],
    ["2024-07-10",	37],
    ["2024-07-11",	38],
    ["2024-07-12",	33],
    ["2024-07-13",	7],
    ["2024-07-14",	6],
    ["2024-07-15",	37],
    ["2024-07-16",	36],
    ["2024-07-17",	40],
    ["2024-07-18",	38],
    ["2024-07-19",	36],
    ["2024-07-20",	9],
    ["2024-07-21",	5],
    ["2024-07-22",	36],
    ["2024-07-23",	38],
    ["2024-07-24",	35],
    ["2024-07-25",	38],
    ["2024-07-26",	32],
    ["2024-07-27",	8],
    ["2024-07-28",	6],
    ["2024-07-29",	31],
    ["2024-07-30",	37],
    ["2024-07-31",	44],
    ["2024-08-01",	92],
    ["2024-08-02",	100],
    ["2024-08-03",	17],
    ["2024-08-04",	10],
    ["2024-08-05",	80],
    ["2024-08-06",	57],
    ["2024-08-07",	45],
    ["2024-08-08",	41],
    ["2024-08-09",	34],
    ["2024-08-10",	8],
    ["2024-08-11",	6],
    ["2024-08-12",	34],
    ["2024-08-13",	36],
    ["2024-08-14",	34],
    ["2024-08-15",	41],
    ["2024-08-16",	36],
    ["2024-08-17",	8],
    ["2024-08-18",	7],
    ["2024-08-19",	33],
    ["2024-08-20",	30],
    ["2024-08-21",	31],
    ["2024-08-22",	30],
    ["2024-08-23",	30],
    ["2024-08-24",	8],
    ["2024-08-25",	6],
    ["2024-08-26",	27],
    ["2024-08-27",	27],
    ["2024-08-28",	27],
    ["2024-08-29",	29],
    ["2024-08-30",	25],
    ["2024-08-31",	7],
    ["2024-09-01",	5],
    ["2024-09-02",	6],
    ["2024-09-03",	27],
    ["2024-09-04",	23],
    ["2024-09-05",	24],
    ["2024-09-06",	25],
    ["2024-09-07",	6],
    ["2024-09-08",	5],
    ["2024-09-09",	28],
    ["2024-09-10",	27],
    ["2024-09-11",	28],
    ["2024-09-12",	30],
    ["2024-09-13",	30],
    ["2024-09-14",	6],
    ["2024-09-15",	5],
    ["2024-09-16",	32],
    ["2024-09-17",	32],
    ["2024-09-18",	33],
    ["2024-09-19",	38],
    ["2024-09-20",	29],
    ["2024-09-21",	8],
    ["2024-09-22",	5],
    ["2024-09-23",	32],
    ["2024-09-24",	30],
    ["2024-09-25",	26],
    ["2024-09-26",	28],
    ["2024-09-27",	24],
    ["2024-09-28",	7],
    ["2024-09-29",	5],
    ["2024-09-30",	24],
    ["2024-10-01",	24],
    ["2024-10-02",	22],
    ["2024-10-03",	23],
    ["2024-10-04",	29],
    ["2024-10-05",	7],
    ["2024-10-06",	5],
    ["2024-10-07",	28],
    ["2024-10-08",	29],
    ["2024-10-09",	27],
    ["2024-10-10",	25],
    ["2024-10-11",	25],
    ["2024-10-12",	7],
    ["2024-10-13",	5],
    ["2024-10-14",	27],
    ["2024-10-15",	27],
    ["2024-10-16",	27],
    ["2024-10-17",	28],
    ["2024-10-18",	25],
    ["2024-10-19",	7],
    ["2024-10-20",	5],
    ["2024-10-21",	24],
    ["2024-10-22",	26],
    ["2024-10-23",	25],
    ["2024-10-24",	27],
    ["2024-10-25",	25],
    ["2024-10-26",	7],
    ["2024-10-27",	5],
    ["2024-10-28",	28],
    ["2024-10-29",	32],
    ["2024-10-30",	42],
    ["2024-10-31",	97],
    ["2024-11-01",	90],
    ["2024-11-02",	15],
    ["2024-11-03",	8],
    ["2024-11-04",	34],
    ["2024-11-05",	34],
    ["2024-11-06",	50],
    ["2024-11-07",	55],
    ["2024-11-08",	42],
    ["2024-11-09",	10],
    ["2024-11-10",	7],
    ["2024-11-11",	32],
    ["2024-11-12",	35],
    ["2024-11-13",	42],
    ["2024-11-14",	40],
    ["2024-11-15",	42],
    ["2024-11-16",	10],
    ["2024-11-17",	6]
];

const GBTCtrends = [
    ["2024-03-17",	36],
    ["2024-03-18",	38],
    ["2024-03-19",	43],
    ["2024-03-20",	44],
    ["2024-03-21",	36],
    ["2024-03-22",	32],
    ["2024-03-23",	26],
    ["2024-03-24",	27],
    ["2024-03-25",	35],
    ["2024-03-26",	36],
    ["2024-03-27",	34],
    ["2024-03-28",	34],
    ["2024-03-29",	32],
    ["2024-03-30",	27],
    ["2024-03-31",	26],
    ["2024-04-01",	34],
    ["2024-04-02",	34],
    ["2024-04-03",	30],
    ["2024-04-04",	29],
    ["2024-04-05",	27],
    ["2024-04-06",	22],
    ["2024-04-07",	25],
    ["2024-04-08",	32],
    ["2024-04-09",	30],
    ["2024-04-10",	30],
    ["2024-04-11",	29],
    ["2024-04-12",	32],
    ["2024-04-13",	33],
    ["2024-04-14",	38],
    ["2024-04-15",	36],
    ["2024-04-16",	34],
    ["2024-04-17",	37],
    ["2024-04-18",	38],
    ["2024-04-19",	49],
    ["2024-04-20",	50],
    ["2024-04-21",	30],
    ["2024-04-22",	33],
    ["2024-04-23",	27],
    ["2024-04-24",	26],
    ["2024-04-25",	24],
    ["2024-04-26",	21],
    ["2024-04-27",	18],
    ["2024-04-28",	18],
    ["2024-04-29",	24],
    ["2024-04-30",	29],
    ["2024-05-01",	32],
    ["2024-05-02",	27],
    ["2024-05-03",	25],
    ["2024-05-04",	19],
    ["2024-05-05",	19],
    ["2024-05-06",	25],
    ["2024-05-07",	21],
    ["2024-05-08",	19],
    ["2024-05-09",	16],
    ["2024-05-10",	22],
    ["2024-05-11",	17],
    ["2024-05-12",	17],
    ["2024-05-13",	20],
    ["2024-05-14",	19],
    ["2024-05-15",	24],
    ["2024-05-16",	22],
    ["2024-05-17",	21],
    ["2024-05-18",	16],
    ["2024-05-19",	16],
    ["2024-05-20",	25],
    ["2024-05-21",	29],
    ["2024-05-22",	26],
    ["2024-05-23",	25],
    ["2024-05-24",	21],
    ["2024-05-25",	16],
    ["2024-05-26",	17],
    ["2024-05-27",	17],
    ["2024-05-28",	21],
    ["2024-05-29",	19],
    ["2024-05-30",	19],
    ["2024-05-31",	17],
    ["2024-06-01",	14],
    ["2024-06-02",	15],
    ["2024-06-03",	18],
    ["2024-06-04",	21],
    ["2024-06-05",	25],
    ["2024-06-06",	23],
    ["2024-06-07",	22],
    ["2024-06-08",	16],
    ["2024-06-09",	16],
    ["2024-06-10",	18],
    ["2024-06-11",	21],
    ["2024-06-12",	20],
    ["2024-06-13",	19],
    ["2024-06-14",	19],
    ["2024-06-15",	18],
    ["2024-06-16",	15],
    ["2024-06-17",	18],
    ["2024-06-18",	19],
    ["2024-06-19",	17],
    ["2024-06-20",	18],
    ["2024-06-21",	18],
    ["2024-06-22",	15],
    ["2024-06-23",	14],
    ["2024-06-24",	25],
    ["2024-06-25",	21],
    ["2024-06-26",	18],
    ["2024-06-27",	18],
    ["2024-06-28",	16],
    ["2024-06-29",	14],
    ["2024-06-30",	15],
    ["2024-07-01",	18],
    ["2024-07-02",	16],
    ["2024-07-03",	17],
    ["2024-07-04",	20],
    ["2024-07-05",	30],
    ["2024-07-06",	19],
    ["2024-07-07",	18],
    ["2024-07-08",	24],
    ["2024-07-09",	20],
    ["2024-07-10",	19],
    ["2024-07-11",	19],
    ["2024-07-12",	18],
    ["2024-07-13",	16],
    ["2024-07-14",	17],
    ["2024-07-15",	26],
    ["2024-07-16",	25],
    ["2024-07-17",	24],
    ["2024-07-18",	19],
    ["2024-07-19",	22],
    ["2024-07-20",	18],
    ["2024-07-21",	21],
    ["2024-07-22",	24],
    ["2024-07-23",	23],
    ["2024-07-24",	21],
    ["2024-07-25",	22],
    ["2024-07-26",	25],
    ["2024-07-27",	35],
    ["2024-07-28",	29],
    ["2024-07-29",	30],
    ["2024-07-30",	23],
    ["2024-07-31",	21],
    ["2024-08-01",	22],
    ["2024-08-02",	21],
    ["2024-08-03",	19],
    ["2024-08-04",	22],
    ["2024-08-05",	70],
    ["2024-08-06",	37],
    ["2024-08-07",	29],
    ["2024-08-08",	26],
    ["2024-08-09",	25],
    ["2024-08-10",	17],
    ["2024-08-11",	18],
    ["2024-08-12",	21],
    ["2024-08-13",	20],
    ["2024-08-14",	21],
    ["2024-08-15",	22],
    ["2024-08-16",	20],
    ["2024-08-17",	16],
    ["2024-08-18",	15],
    ["2024-08-19",	18],
    ["2024-08-20",	20],
    ["2024-08-21",	17],
    ["2024-08-22",	17],
    ["2024-08-23",	21],
    ["2024-08-24",	17],
    ["2024-08-25",	18],
    ["2024-08-26",	18],
    ["2024-08-27",	21],
    ["2024-08-28",	20],
    ["2024-08-29",	16],
    ["2024-08-30",	16],
    ["2024-08-31",	14],
    ["2024-09-01",	14],
    ["2024-09-02",	15],
    ["2024-09-03",	18],
    ["2024-09-04",	18],
    ["2024-09-05",	18],
    ["2024-09-06",	19],
    ["2024-09-07",	16],
    ["2024-09-08",	16],
    ["2024-09-09",	18],
    ["2024-09-10",	15],
    ["2024-09-11",	16],
    ["2024-09-12",	15],
    ["2024-09-13",	17],
    ["2024-09-14",	14],
    ["2024-09-15",	15],
    ["2024-09-16",	15],
    ["2024-09-17",	18],
    ["2024-09-18",	20],
    ["2024-09-19",	23],
    ["2024-09-20",	20],
    ["2024-09-21",	15],
    ["2024-09-22",	14],
    ["2024-09-23",	17],
    ["2024-09-24",	16],
    ["2024-09-25",	17],
    ["2024-09-26",	17],
    ["2024-09-27",	19],
    ["2024-09-28",	16],
    ["2024-09-29",	15],
    ["2024-09-30",	15],
    ["2024-10-01",	17],
    ["2024-10-02",	16],
    ["2024-10-03",	17],
    ["2024-10-04",	16],
    ["2024-10-05",	13],
    ["2024-10-06",	14],
    ["2024-10-07",	16],
    ["2024-10-08",	15],
    ["2024-10-09",	18],
    ["2024-10-10",	16],
    ["2024-10-11",	16],
    ["2024-10-12",	15],
    ["2024-10-13",	12],
    ["2024-10-14",	17],
    ["2024-10-15",	17],
    ["2024-10-16",	17],
    ["2024-10-17",	15],
    ["2024-10-18",	17],
    ["2024-10-19",	15],
    ["2024-10-20",	15],
    ["2024-10-21",	17],
    ["2024-10-22",	14],
    ["2024-10-23",	16],
    ["2024-10-24",	15],
    ["2024-10-25",	14],
    ["2024-10-26",	14],
    ["2024-10-27",	15],
    ["2024-10-28",	18],
    ["2024-10-29",	36],
    ["2024-10-30",	26],
    ["2024-10-31",	21],
    ["2024-11-01",	19],
    ["2024-11-02",	15],
    ["2024-11-03",	16],
    ["2024-11-04",	18],
    ["2024-11-05",	19],
    ["2024-11-06",	62],
    ["2024-11-07",	43],
    ["2024-11-08",	40],
    ["2024-11-09",	31],
    ["2024-11-10",	49],
    ["2024-11-11",	86],
    ["2024-11-12",	100],
    ["2024-11-13",	95],
    ["2024-11-14",	75],
    ["2024-11-15",	54],
    ["2024-11-16",	42],
    ["2024-11-17",	37]
];

// const trendData = {};
// GBTCtrends.forEach((trendDay) => {
//     const thisDate = new Date(trendDay[0]);
//     // console.log(thisDate.getDay())
//     const dateKey = `${thisDate.getYear()}-${thisDate.getMonth()}-${thisDate.getDay}`;
//     trendData[dateKey] = trendDay[1];
// });

// // console.log(trendData);

// const dataSlice = GBTCdaily;
// const dataToUse = [];
// dataSlice.forEach((day) => {
//     const dataDate = new Date(day.date);
//     const dateKey = `${dataDate.getYear()}-${dataDate.getMonth()}-${dataDate.getDay}`;
//     if (trendData[dateKey]) {
//         dataToUse.push({
//             date: day.date,
//             open: day.open,
//             high: day.high,
//             low: day.low,
//             close: day.close,
//             vol: day.vol,
//             trend: trendData[dateKey]
//         });
//     }
// });



// const dataToUse = LUVdaily.slice(0, 2000);

console.log(dataToUse.length);



// ------- params --------
const lookBack = 3;
// const trainStart = 11190;
// const trainEnd = 11200;
// const testStart = 11200;
// const testEnd = 11400;

const trainStart = dataToUse.length - 1000;
const trainEnd = dataToUse.length - 25;
const testStart = dataToUse.length - 25;
const testEnd = dataToUse.length;

const numNets = 1;
const useForAnswer = "close";
const retrainInterval = 1;
const buyThreshold = 0.65;
const sellShortThreshold = 0.2;
// -----------------------

const answerList = createAnswers(dataToUse, {
    lookBack: lookBack,
    normalizeFactor: 1.5,
    normalizeOutput: false,
    useForAnswer: useForAnswer,
    vol: {
        // useDiff: true,
        // normalizeDiff: true,
        // useActual: true,
        // normalizeActual: true,
        useDir: true
    },
    close: {
        // useDiff: true,
        // normalizeDiff: true,
        // useActual: true,
        // normalizeActual: true,
        useDir: true
    },
    // open: {
    //     // useDiff: true,
    //     // useActual: true,
    //     // normalizeDiff: true,
    //     useDir: true
    // },
    high: {
        // useDiff: true,
        // useActual: true,
        // normalizeDiff: true,
        useDir: true
    },
    // low: {
    //     // useDiff: true,
    //     // useActual: true,
    //     // normalizeDiff: true,
    //     useDir: true
    // },
    // trend: {
    //     useDiff: true,
    //     // useActual: true,
    //     normalizeDiff: true,
    //     // useDir: true
    // }
});




const priceList = createPriceList(dataToUse, {
    lookBack: lookBack,
    useForPrice: useForAnswer
});

const trainingAnswers = answerList.slice(trainStart, trainEnd);
const testAnswers = answerList.slice(testStart, testEnd);
const testPrices = priceList.slice(testStart, testEnd);

// console.log(trainingAnswers);

const net = new NetSet(numNets);
console.log("training on " + trainingAnswers.length + " points...");
// console.log(trainingAnswers.slice(3, 5));
net.train(trainingAnswers);

console.log("test starting on " + testAnswers[0].date);

runSingle(testAnswers, testPrices, net, trainingAnswers, {
    startAmt: 100,
    retrainInterval: retrainInterval,
    buyThreshold: buyThreshold,
    // increaseTraining: true
});

net.print();


// let right = 0;
// let wrong = 0;
// console.log("testing on " + testAnswers.length + " points...");
// testAnswers.forEach((dataPoint) => {
//     const prediction = net.run(dataPoint.input)[0];
//     const realAnswer = dataPoint.output[0];
//     if (Math.round(prediction) === Math.round(realAnswer)) {
//         right += 1;
//     } else {
//         wrong += 1;
//     }
// });
// console.log("right: " + right);
// console.log("wrong: " + wrong);

